/****************************************************************************** 
 * Copyright (c) 2009-2012  Marvell International, Ltd. All Rights Reserved
 *
 *                         Marvell Confidential
 ******************************************************************************/
/**
  * 
  *This file contains functions for the UED block config.
  * 
 **/

#if (!defined(ASIC_granite)) && ((!defined(ASIC_gemstone)) || (ASIC_REV < ASIC_REV_Z3))
    #error "This configuration file is for Granite or Gemstone Z3 and later"
#endif

#include "ATypes.h"
#include "ued_cfg.h"

// Dither BLUT Matrices (variable size, but padded to 4096)
#include "ued_blut_dither_C.h"
#include "ued_blut_dither_M.h"
#include "ued_blut_dither_Y.h"
//#include "ued_blut_dither_Kt.h"
#include "ued_blut_dither_Kt_wp.h"
#include "ued_blut_dither_K.h"
#include "ued_blut_dither_G.h"

// CLUTs
#include "ued_clut_zero_bias.h"
#include "ued_clut_zero_thresh.h"
#include "ued_clut_bias4.h"


// 4-error WLUTs
#include "ued_weight_err0.h"
#include "ued_weight_err1.h"
#include "ued_weight_err2.h"
#include "ued_weight_err3.h"

// Place holders
uint32_t ued_wlut_placeholder[UED_WLUT_DEPTH]; 

// default BLUT data
ued_blut_data_t dblut_data_default =
{
    dblut0,
    dblut1,
    dblut2, 
    dblut3,
    dblut4_wp_1bpp,
    dblut5
}; 

ued_blut_data_t dblut_data_4bpp =
{
    dblut0,
    dblut1,
    dblut2, 
    dblut3,
    dblut4_wp_4bpp,
    dblut5
}; 

// default CLUT data
ued_clut_data_t clut_data_default =
{
    clut_zero_bias,
    clut_zero_thresh,
    clut_zero_bias,
    clut_zero_thresh,
    clut_zero_bias,
    clut_zero_thresh,
    clut_zero_bias,
    clut_zero_thresh,
    clut_bias4,
    clut_thresh4,
    clut_zero_bias,
    clut_zero_thresh
};


// default 8-weight WLUT data
ued_wlut_data_t wlut8_data_default =
{
    ued_wlut_placeholder,
    ued_wlut_placeholder,
    ued_wlut_placeholder,
    ued_wlut_placeholder,
    ued_wlut_placeholder,
    ued_wlut_placeholder,
    ued_wlut_placeholder,
    ued_wlut_placeholder
};

// default 4-weight WLUT data
ued_wlut_data_t wlut4_data_default =
{
    tdw_wlut0,
    tdw_wlut1,
    tdw_wlut2,
    tdw_wlut3,
    NULL,
    NULL,
    NULL,
    NULL
};

// default UED LUTs for 8-weight configs
ued_lut_data_t lut_data_wlut8_default =
{
    .blut = &dblut_data_default,
    .clut = &clut_data_default,
    .wlut = &wlut8_data_default,
};

ued_lut_data_t lut_data_wlut8_4bpp =
{
    .blut = &dblut_data_4bpp,
    .clut = &clut_data_default,
    .wlut = &wlut8_data_default,
};

// default UED LUTs for 4-weight configs
ued_lut_data_t lut_data_wlut4_default =
{
    .blut = &dblut_data_default,
    .clut = &clut_data_default,
    .wlut = &wlut4_data_default,
};

//
// *** UED configurations ***
//
ued_cfg_t ued_photo_cfg =
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 0,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 0,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 0,
    .shift_value = {0, 0, 0, 0, 0, 0},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},
    .ch_min_en = {0, 0, 0, 0, 0, 0},
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    .first_line_error_mode = 2,
    .scale1 = 64,
    .scale2 = 32,
    .offset = 12,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 2,
    .levels = 3,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 767,  255,   0},
    .density = {   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0, 1023,  512,    0},
    .size = {   0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    2,    1,    0},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1},
    .ch_psa_en = {1, 1, 0, 1, 0, 0},
    .psathresh = {3071,3071,3071,2809,2298,1787,1276, 765, 254},
    .psasize   = {   0,   0,   0,   6,   5,   4,   3,   2,   1},
    .psa_bsel0 = 0,
    .psa_bsel1 = 5,
    .psa_ch34_sel = 0,
    .psa_max_level = 2,
    .psa_blk_prior = 4,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},
    .ch_tds_en = {0, 0, 0, 0, 0, 0},
    .sbmodify = 0,
    .sbrgen = 0,
    .sbselect = 0,
    .sbias1 = 0,
    .sbias2 = 0,
    .sbias_height = {64, 64, 64, 64, 64, 64},
    .sbias_width = {64, 64, 64, 64, 64, 64},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_default
};

ued_cfg_t ued_plain_normal_cfg = 
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 0,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 0,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 0, 
    .shift_value = {0, 0, 0, 0, 0, 0},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},
    .ch_min_en = {0, 0, 0, 0, 0, 0},
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    .first_line_error_mode = 2,
    .scale1 = 64,
    .scale2 = 32,
    .offset = 12,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 2,
    .levels = 3,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 767,  255,   0},
    .density = {   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0, 1023,  512,    0},
    .size = {   0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    2,    1,    0},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1},
    .ch_psa_en = {1, 1, 0, 1, 0, 0},
    .psathresh = {3071,3071,3071,2809,2298,1787,1276, 765, 254},
    .psasize   = {   0,   0,   0,   6,   5,   4,   3,   2,   1},
    .psa_bsel0 = 0,
    .psa_bsel1 = 5,
    .psa_ch34_sel = 0,
    .psa_max_level = 2,
    .psa_blk_prior = 4,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},
    .ch_tds_en = {0, 0, 0, 0, 0, 0},
    .sbmodify = 0,
    .sbrgen = 0,
    .sbselect = 0,
    .sbias1 = 0,
    .sbias2 = 0,
    .sbias_height = {64, 64, 64, 64, 64, 64},
    .sbias_width = {64, 64, 64, 64, 64, 64},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_default
};

ued_cfg_t ued_plain_draft_cfg = 
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 0,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 0,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 0, 
    .shift_value = {0, 0, 0, 0, 0, 0},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},  
    .ch_min_en = {0, 0, 0, 0, 0, 0},  
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    .first_line_error_mode = 2,  
    .scale1 = 64,
    .scale2 = 32,
    .offset = 12,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 1,
    .levels = 2,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023,  512,  0},
    .density = {   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0, 1023,    0},
    .size = {   0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    1,    0},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1},
    .ch_psa_en = {0, 0, 0, 0, 0, 0}, 
    .psathresh = {3071,3071,3071,2809,2298,1787,1276, 765, 254},
    .psasize   = {   0,   0,   0,   6,   5,   4,   3,   2,   1},
    .psa_bsel0 = 0,
    .psa_bsel1 = 5,
    .psa_ch34_sel = 0,
    .psa_max_level = 2,
    .psa_blk_prior = 4,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},
    .ch_tds_en = {0, 0, 0, 0, 0, 0},
    .sbmodify = 0,
    .sbrgen = 0,
    .sbselect = 0,
    .sbias1 = 0,
    .sbias2 = 0,   
    .sbias_height = {64, 64, 64, 64, 64, 64},
    .sbias_width = {64, 64, 64, 64, 64, 64},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_default
};

#if 0
ued_cfg_t ued_mono8_1bpp_cfg = 
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 0,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 0,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 0, 
    .shift_value = {0, 0, 0, 0, 0, 0},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},  
    .ch_min_en = {0, 0, 0, 0, 0, 0},  
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    .first_line_error_mode = 2,  
    .scale1 = 64,
    .scale2 = 32,
    .offset = 12,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 1,
    .levels = 2,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023,  512,  0},
    .density = {   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0, 1023,    0},
    .size = {   0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    1,    0},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1},
    .ch_psa_en = {0, 0, 0, 0, 0, 0}, 
    .psathresh = {   0,   0,   0,   6,   0,   0,   0,   0,   0},
    .psasize   = {   0,   0,   0,   6,   0,   0,   0,   0,   0},
    .psa_bsel0 = 0,
    .psa_bsel1 = 0,
    .psa_ch34_sel = 0,
    .psa_max_level = 0,
    .psa_blk_prior = 0,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},
    .ch_tds_en = {0, 0, 0, 0, 0, 0},
    .sbmodify = 0,
    .sbrgen = 0,
    .sbselect = 0,
    .sbias1 = 0,
    .sbias2 = 0,   
    .sbias_height = {0, 0, 0, 0, 0, 0},
    .sbias_width = {0, 0, 0, 0, 0, 0},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_default
};
#else
ued_cfg_t ued_mono8_1bpp_cfg = 
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 0,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 0,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 0, 
    .shift_value = {0, 0, 0, 0, 0, 0},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},  
    .ch_min_en = {0, 0, 0, 0, 0, 0},  
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    // TODO: quick fix for PIP strip resets: don't erase SRAM error data
    .first_line_error_mode = 1, // 0=zeros, 1=leave current, 2/3=random init
    .scale1 = 64,
    .scale2 = 32,
    .offset = 12,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 1,
    .levels = 2,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023,  512},
    .density = {   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0, 1023},
    .size = {   0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    1},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1},
    .ch_psa_en = {0, 0, 0, 0, 0, 0}, 
    .psathresh = {3071,3071,3071,2809,2298,1787,1276, 765, 254},
    .psasize   = {   0,   0,   0,   6,   5,   4,   3,   2,   1},
    .psa_bsel0 = 0,
    .psa_bsel1 = 5,
    .psa_ch34_sel = 0,
    .psa_max_level = 2,
    .psa_blk_prior = 4,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},
    .ch_tds_en = {0, 0, 0, 0, 1, 0},
    .sbmodify = 2,
    .sbrgen = 0,
    .sbselect = 1,
    .sbias1 = 0,
    .sbias2 = 0,   
    .sbias_height = {64, 64, 64, 64, 64, 64},
    .sbias_width = {64, 64, 64, 64, 64, 64},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_default
};
#endif

ued_cfg_t ued_mono8_2bpp_cfg = 
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 0,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 0,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 0, 
    .shift_value = {0, 0, 0, 0, 0, 0},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},
    .ch_min_en = {0, 0, 0, 0, 0, 0},
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    .first_line_error_mode = 2,
    .scale1 = 64,
    .scale2 = 32,
    .offset = 12,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 2,
    .levels = 3,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 767,  255,   0},
    .density = {   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0, 1023,  512,    0},
    .size = {   0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    2,    1,    0},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1},
    .ch_psa_en = {0, 0, 0, 0, 0, 0}, 
    .psathresh = {   0,   0,   0,   6,   0,   0,   0,   0,   0},
    .psasize   = {   0,   0,   0,   6,   0,   0,   0,   0,   0},
    .psa_bsel0 = 0,
    .psa_bsel1 = 0,
    .psa_ch34_sel = 0,
    .psa_max_level = 0,
    .psa_blk_prior = 0,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},
    .ch_tds_en = {0, 0, 0, 0, 0, 0},
    .sbmodify = 0,
    .sbrgen = 0,
    .sbselect = 0,
    .sbias1 = 0,
    .sbias2 = 0,   
    .sbias_height = {0, 0, 0, 0, 0, 0},
    .sbias_width = {0, 0, 0, 0, 0, 0},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_default
};

ued_cfg_t ued_mono8_2bpp_demo_cfg = 
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 0,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 0,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 0, 
    .shift_value = {0, 0, 0, 0, 0, 0},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},
    .ch_min_en = {0, 0, 0, 0, 0, 0},
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    // TODO: quick fix for PIP strip resets: don't erase SRAM error data
    .first_line_error_mode = 1, // 0=zeros, 1=leave current, 2/3=random init
    .scale1 = 64,
    .scale2 = 32,
    .offset = 12,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 2,
    .levels = 4,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023,  768,  384,  128,    0},
    .density = {   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0, 1023,  682,  341,    0},
    .size = {   0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    3,    2,    1,    0},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1},
    .ch_psa_en = {0, 0, 0, 0, 0, 0}, 
    .psathresh = {3071,3071,3071,2809,2298,1787,1276, 765, 254},
    .psasize   = {   0,   0,   0,   6,   5,   4,   3,   2,   1},
    .psa_bsel0 = 0,
    .psa_bsel1 = 5,
    .psa_ch34_sel = 0,
    .psa_max_level = 2,
    .psa_blk_prior = 4,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},
    .ch_tds_en = {0, 0, 0, 0, 1, 0},
    .sbmodify = 2,
    .sbrgen = 0,
    .sbselect = 1,
    .sbias1 = 0,
    .sbias2 = 0,   
    .sbias_height = {64, 64, 64, 64, 64, 64},
    .sbias_width = {64, 64, 64, 64, 64, 64},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_default
};

ued_cfg_t ued_mono8_2bpp_paired_demo_cfg = 
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 1,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 1,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 1, 
    .shift_value = {2, 2, 2, 2, 2, 2},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},
    .ch_min_en = {0, 0, 0, 0, 0, 0},
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    .first_line_error_mode = 2,
    .scale1 = 64,
    .scale2 = 32,
    .offset = 16,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 2,
    .levels = 7,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 937,   767,
                   596,  426,  255,  85,     0},
    .density = {   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0,    0,    0,
                   0,    0,    0, 1023,  852,
                 682,  511,  341,  170,    0},
    .size = {   0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    0,    0,
                0,    0,    0,    6,    5,
                4,    3,    2,    1,    0},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    0,
                     0,    0,    0,    0,    0},
    .ch_psa_en = {0, 0, 0, 0, 0, 0}, 
    .psathresh = {   0,   0,   0,   6,   0,   0,   0,   0,   0},
    .psasize   = {   0,   0,   0,   6,   0,   0,   0,   0,   0},
    .psa_bsel0 = 0,
    .psa_bsel1 = 0,
    .psa_ch34_sel = 0,
    .psa_max_level = 0,
    .psa_blk_prior = 0,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},  
    .ch_tds_en = {0, 0, 0, 0, 0, 0},
    .sbmodify = 0,
    .sbrgen = 0,
    .sbselect = 0,
    .sbias1 = 0,
    .sbias2 = 0,   
    .sbias_height = {0, 0, 0, 0, 0, 0},
    .sbias_width = {0, 0, 0, 0, 0, 0},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_default
};

ued_cfg_t ued_mono8_4bpp_demo_cfg = 
{
    .up0_chans = 10,
    .up0_height = 0,    // replaced at runtime
    .up0_width = 0,     // replaced at runtime
    .dn_chans = 7,
    .dn_height = 0,     // replaced at runtime
    .dn_width = 0,      // replaced at runtime
    .mode = 1,
    .laser_channels_built = {0, 0, 0, 0, 1, 0},
    .th_per_ch = 0,
    .bypass = 0,
    .writehexinput = 0,
    .writehex = 0,
    .writedv = 0,
    .removedtfromdvoutput = 0,
    .keepdvoutwidth = 0,
    .s0 = 0,
    .s1 = 1,
    .s3 = 0,
    .s4 = 0,
    .h2x = 0,
    .bline = 0,
    .bd = 2, 
    .shift_value = {0, 0, 0, 0, 0, 0},
    .lfsr_ch_val = {1, 1, 1, 1, 1, 1},
    .ch_en = {1, 1, 1, 1, 1, 1},
    .ch_max_en = {0, 0, 0, 0, 0, 0},
    .ch_min_en = {0, 0, 0, 0, 0, 0},
    .ch_tdt_en = {0, 0, 0, 0, 0, 0},
    .serpentine = 1,
    .start_r2l = 0,
    .forward_error_serpentine = 0,
    // TODO: quick fix for PIP strip resets: don't erase SRAM error data
    .first_line_error_mode = 1, // 0=zeros, 1=leave current, 2/3=random init
    .scale1 = 64,
    .scale2 = 32,
    .offset = 12,
    .ch_tdw_en = {0, 0, 0, 0, 0, 0},
    .weight8_en = 1,
    .err_crumbs = 1,
    .rand_crumbs = 1,
    .ed_disable = 0,
    .decay_wh_en = 0,
    .decay_bk_en = 0,
    .dweights = {112, 48, 80, 16, 0, 0, 0, 0},
    .weights = {128, 32, 64, 16, 0, 0, 16, 0},
    .outbpp = 4,
    .levels = 16,
    .threshold = {1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1011,  988,  964,  942,
                   917,  889,  853,  768,  256},
    .density = {  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023, 1023, 1023, 1023,
                  1023, 1023,  999,  976,  953,
                   930,  903,  876,  831,  512},
    .size = {   0,  0,  0,  0,  0,
                0,  0,  0,  0,  0,
                0,  0,  0,  0,  0,
                0,  0,  0,  0,  0,
                0, 30, 21, 20, 19,
               18, 17, 16, 15, 14},
    .diffusion = {   1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1,
                     1,    1,    1,    1,    1},
    .ch_psa_en = {0, 0, 0, 0, 0, 0}, 
    .psathresh = {3071,3071,3071,2809,2298,1787,1276, 765, 254},
    .psasize   = {   0,   0,   0,   6,   5,   4,   3,   2,   1},
    .psa_bsel0 = 0,
    .psa_bsel1 = 5,
    .psa_ch34_sel = 0,
    .psa_max_level = 2,
    .psa_blk_prior = 4,
    .psa_filter_en = 0,
    .ch_tdb_en = {0, 0, 0, 0, 0, 0},  
    .ch_tds_en = {0, 0, 0, 0, 0, 0},
    .sbmodify = 1,
    .sbrgen = 0,
    .sbselect = 1,
    .sbias1 = 0,
    .sbias2 = 0,   
    .sbias_height = {64, 64, 64, 64, 64, 64},
    .sbias_width = {64, 64, 64, 64, 64, 64},
    .cliff1 = 0,
    .range = 0,
    .lastlevel = 0,
    .lut_data = &lut_data_wlut8_4bpp
};
